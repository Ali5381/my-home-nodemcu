const pin_array=[4,5,12,13,14,16],pin_detail=["LED 1","LED 2","LED 3","LED 4","LED 5","LED 6"];let pin_array_state=[0,0,0,0,0,0,0,0];function toggleLED(e){let t=e.ID,a=e.children[1].classList,n=0==pin_array_state[e.state]?1:0;a.add("s"),fetch("/toggle?led="+t+"&&state="+n).then((t=>{if(1==t.error)throw new Error("Network response was not ok");a.remove("s"),a.toggle("a"),pin_array_state[e.state]=n})).catch((e=>{}))}window.onload=()=>{fetch("/states").then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>{let t=e=>document.createElement(e);try{pin_array_state=e.state}catch(e){}pin_array.forEach(((e,a)=>{let n=t("li"),s=t("span"),o=t("div"),r=t("div");s.innerText=pin_detail[a]||"NULL",o.className=1==pin_array_state[a]?"so a":"so",r.className="si",n.ID=e,n.state=a,n.onclick=()=>toggleLED(n),n.append(s),n.append(o),o.append(r),document.querySelector("ol").append(n)}))})).catch((e=>{}));let t=e("div"),a=e("div"),n=e("div"),s=e("div"),o=e("button"),r=e("button");t.className="pop-out dfx",a.className="pop-in dfx f",n.className="pop-detail",s.className="dfx",s.style.width="100%",s.append(o),s.append(r),t.append(a),t.append(s),document.body.append(t)};
