const pin_array=[4,5,12,13,14,16],pin_detail=["LED 1","LED 2","LED 3","LED 4","LED 5","LED 6"];let pin_array_state=[0,0,0,0,0,0,0,0];function toggleLED(e){let t=e.ID,a=e.children[1].classList,r=0==pin_array_state[e.state]?1:0;a.add("s"),fetch("/toggle?led="+t+"&&state="+r).then((t=>{if(1==t.error)throw new Error("Network response was not ok");a.remove("s"),a.toggle("a"),pin_array_state[e.state]=r})).catch((e=>{}))}window.onload=()=>{fetch("/states").then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>{let t=e=>document.createElement(e);try{pin_array_state=e.state}catch(e){}pin_array.forEach(((e,a)=>{let r=t("li"),n=t("span"),o=t("div"),s=t("div");n.innerText=pin_detail[a]||"NULL",o.className=1==pin_array_state[a]?"so a":"so",s.className="si",r.ID=e,r.state=a,r.onclick=()=>toggleLED(r),r.append(n),r.append(o),o.append(s),document.querySelector("ol").append(r)}))})).catch((e=>{}))};
